language: php
sudo: false
php:
- 5.4
- 5.5
- 5.6
- 7.0
matrix:
  fast_finish: true
  allow_failures:
  - env: MAGENTO_VERSION=magento-ce-1.9.1.1
  - env: MAGENTO_VERSION=magento-ce-1.9.1.0
  - php: 5.4
    env: MAGENTO_VERSION=magento-ce-1.9.2.2
  - php: 5.4
    env: MAGENTO_VERSION=magento-ce-1.9.2.1
  - php: 5.4
    env: MAGENTO_VERSION=magento-ce-1.9.2.0
  - php: 5.6
    env: MAGENTO_VERSION=magento-mirror-1.8.1.0
  - php: 7.0
    env: MAGENTO_VERSION=magento-mirror-1.8.1.0
env:
  global:
  - APPNAME=Ffuenf_ChildProductCategories
  - secure: YvbIlDt6xaeUI3aiVzwG+hHgOKmhmN97h9WTa/Y48cuqRMCY6NrtnhRm15cC9DWX6XDVBXTiYZ2UI90gZNDDnFB79p80iqc6UzecmRsYzMClQxoAFkJITb5BYrmbbCC7iVzqt7jCE/cvC8CKzyfsOqTNMyW/WbHwq6OS1e6+ajO0nGpyAWmk1SlGhVbZZhqRhDb6dbGGr3pMwKIJ1LqxEyXuDHdIKdU5D8OqjEbOC1CkwlE3K53c4y2EdzINoZdoOJsI21PtjHfajJQFQCQzp0nsi4nnssvJTXrAt0Nk0Ytpzfkyzxp9MsO1HG/28i0Y0KklgOxy1IFrKUKNY9P+QVBpbrehiH4j8DuJsSCNXGvtoOm9dKZKu/PodOpJuzzbjrChXSp+ep7KCCxofE7mCrL3rV3cysKi30Dx5LMTq6hxrtyBkomB+E/hh5+i3pimniJbiVuN3FsVbteTBBYIMwHCYM0RuB2a2yA6sXUGfv0NHeybOfoMFmRQQC3tK4wbhW7o5/5cp0nepyU47kKSLXg1wltMbx8/iVIqY/7aHrv6RZSAXgeXxBxtzw3xLKLnfCMECn449u5DoHCumBF+IjFb8mzGEQYtNdSCKGro+FuHfudqNy7cLOGGbLPK3BIkXm2gzCuwqX/HLmavDSgEIevPnp4uGORol8KRrjKiJRY=
  - secure: itXR12rbdyZDgdwpklXdLx08a+PAVHJtfBZC8N+ivpaupQzcVDKpgLiK0OoeMoomClQD4gOGxheT0Qt1BJX3u1vpurkdyMhJV3klO5v8KzEKMiQs8SzTZgPUI5cG3Buqc3PLiNsd2FAjOlJQ1CdKER9pOVhqy6vPY/6JC/Ep5Hlctti7nkD8F0E415XEO5NAFh6oud8eG8bL9IK29wsKRqStqgMi+ibdCxpIHapgehn1cEoTgUc740tkN954q76zP7At+ihwW+NUozq6qkmpmcdIDn/cRZb9lrf+Xar1yCBxYrPXkX8dbbb651YoLroWVZ+Yfu24VveB23rEKLBv/8tqW30R9RiKqahQZt7UzePAHznpF69cSnblclGI+ElhMUjzQ8RXtKDQETGNjoopW7mY05DCu6TYRu5JkbRUMtoi+Fpi99QnYNN+BZuNqxpf5Ifgbbh8ODSizq6rBHAaitoYQzdq42OMQoMiuDWSZgJ1ZJUdS7VKYGxKMdXYE73XlDJl9dMOovdU6s+KuvCwElbFl2tEEWeltMPMAKKd2f/B146ZcdkEgvef+LIAGYIAdQLDCVfcxJGfYf9IXRSApNVTj2GOJ7Y7X/mJQH4R7Vj0K9geCze0DF/466EozSscNLQpWdkQBtT0PDjwKCdL1BVAc+wA5c9spuvQcy/iTFQ=
  matrix:
  - MAGENTO_VERSION=magento-ce-1.9.2.2
  - MAGENTO_VERSION=magento-ce-1.9.1.1
  - MAGENTO_VERSION=magento-mirror-1.8.1.0
  - MAGENTO_VERSION=magento-mirror-1.7.0.2
  - MAGENTO_VERSION=magento-mirror-1.6.2.0
before_script:
- composer self-update
- composer install --prefer-source
script:
- curl -sSL https://raw.githubusercontent.com/ffuenf/MageTestStand/master/setup.sh
  | bash
before_deploy:
- gem install mime-types -v 2.6.2
deploy:
  provider: releases
  file:
  - "${APPNAME}-${TRAVIS_TAG}.zip"
  - "${APPNAME}-${TRAVIS_TAG}.tar.gz"
  skip_cleanup: true
  on:
    branch: master
    tags: true
  api_key:
    secure: MIlNrvLue0JaIEO9av/0gHVYd8pcozG4jnqGKvO98PeQCVjxR0Hewb4id6AK0FaKrB8h1wlDHjn4IRkCPSKnrR3PiibymA3Uhlv6sb6EW5+wE0gSNP9ec8FC9fK1PkDgpSrgaK6if8YZZZwT1MQ0pTzpwKKDDtX4qCTlJMkFS1+uZlYO56fRzH3fG2rwNVeLVi7hf+GQA+GKKvxTgYzKyoP4IqssDMy4N4avzRXCgW4uUYgt9J3zTyZftS5B4IVISYrVR14aSWtChzHMR9y4F21rq7Pn8cgnpA8iNt99opQLg8Fwl4Qz4hVS2iv4yYC43hskRlb2yyA6ItJRTeVEHxew2huMIHV/yI0IRDMf+bIHNoNP0GWNvi/IenR4oV6D1K8Ysp79KgUWbCxI9MrDoFdeoXUAGP/Z6Bo9j6VRKRpVRo7Wb1V06TGVrsVDRKupfwmImISmeRyNBq82WYAR1+zbDilCrE/wlOsQkJkVWkmJdf8zmeHtZTZi1WCKG3MhHFwlhSuXlM66PoiAmNlbROju/nMvMpBpfFs/598f8LJmUYHFg53TO9Zn2gvSBgS48nASj9pEcvDQ41kLtx+CxMJZPY2STuZGbyJnxlv/TxDtUNW4VNUpvf+TE0xhrYFoZPyX2PJnAJFc0MZPCvMwM+xKlWnpILjBXLXocW5Kudg=
notifications:
  slack:
    secure: s2rlveLYRIWArZwDi6CEW9Cow6A1aidPUkbBqvL5/ohk8oNpz4mEtM34UACgsmYalsMyyyZeURbfDFpWbBWHfJJaJZZvUQGCTWKOf94usxiLhgE40e0AaiQk3mPOMRx9T81xSZLQkaldqrXCwg1dG5URExLqfmeKV0kmJCX0nCNf7fYpojlAmotDDa1O8O4Hwu5PxhCmi1FqkSkDLDDC5mgT4oImUkQlxlTYqfWh7BrHo6vcl0DWvOzN2jC2mXdj8Sx8iIo6KZNygEhmxn9efBJdrsPdwSJK8K0Kycll5GlxJ03ArQcRpaA59unumGGCUDy87tB+QyxGJgOIhmyWnTVTb95ceMx1tSHLXohKCL0MfNKPisFPVRp6brFLA/AkkDODh8Zd3ES7frcSf64qWCIP97FaLeIaYJg7J4xU7w8iTja7SRf7LyaUg7ucoVBLOJnFbNPBxpyGyDKydnldBq8dY1DYstzFa11B+WsLzfnpdGJfOG3KO73hjVm6wevD2JTcxoyTpZnEeHS7nlOP5h1TKXfd7FBsEUrsQqSt8MqPtc21+VIKJ7Bw9C4tj8e1vN+sXjVGMrgIjndPHyV3fofRPfTxk2uP4iNkMIys6VW3RpfsX5GqEeNjRYMInX5n3PsXdmxGtx/LJ5v6RGqwZZ3lCHvzinEXNfDjMjFQivY=
